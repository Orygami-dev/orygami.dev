---
const testimonials = [
  {
    name: 'Marie Dupont',
    role: 'Restauratrice',
    company: 'Le Gourmet',
    content: 'Un travail remarquable ! Mon nouveau site reflète parfaitement l\'ambiance de mon restaurant. Les réservations en ligne ont augmenté de 40% depuis la mise en ligne.',
    avatar: 'M',
  },
  {
    name: 'Jean-Pierre Laurent',
    role: 'Médecin généraliste',
    company: 'Cabinet Médical du Parc',
    content: 'Très professionnel et à l\'écoute. Le site est clair, rassurant pour mes patients, et la prise de rendez-vous en ligne leur facilite vraiment la vie.',
    avatar: 'J',
  },
  {
    name: 'Sophie Renard',
    role: 'Gérante',
    company: 'Boutique Élégance',
    content: 'Je suis ravie du résultat ! Le design est élégant et met parfaitement en valeur mes collections. Un vrai plus pour mon image de marque.',
    avatar: 'S',
  },
];
---

<section id="temoignages" class="testimonials">
  <div class="testimonials__container">
    <div class="testimonials__header">
      <h2 class="testimonials__title">Ce qu'en disent mes clients</h2>
      <p class="testimonials__intro">
        La satisfaction de mes clients est ma plus grande fierté.
      </p>
    </div>

    <div class="testimonials__grid">
      {testimonials.map((testimonial) => (
        <article class="testimonial-card">
          <div class="testimonial-card__quote">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M11.192 15.757c0-.88-.23-1.618-.69-2.217-.326-.412-.768-.683-1.327-.812-.55-.128-1.07-.137-1.54-.028-.16-.95.1-1.956.76-3.022.66-1.065 1.515-1.867 2.558-2.403L9.373 5c-.8.396-1.56.898-2.26 1.505-.71.607-1.34 1.305-1.9 2.094s-.98 1.68-1.25 2.69-.346 2.04-.217 3.1c.168 1.4.62 2.52 1.356 3.35.735.84 1.652 1.26 2.748 1.26.965 0 1.766-.29 2.4-.878.628-.576.94-1.365.94-2.368l.002.003zm9.124 0c0-.88-.23-1.618-.69-2.217-.326-.42-.77-.692-1.327-.817-.56-.124-1.074-.13-1.54-.022-.16-.94.09-1.95.75-3.02.66-1.06 1.514-1.86 2.557-2.4L18.49 5c-.8.396-1.555.898-2.26 1.505-.708.607-1.34 1.305-1.894 2.094-.556.79-.97 1.68-1.24 2.69-.273 1-.345 2.04-.217 3.1.168 1.4.62 2.52 1.356 3.35.735.84 1.652 1.26 2.748 1.26.965 0 1.766-.29 2.4-.878.628-.576.94-1.365.94-2.368l-.007.003z" />
            </svg>
          </div>
          <p class="testimonial-card__content">{testimonial.content}</p>
          <div class="testimonial-card__author">
            <div class="testimonial-card__avatar">
              {testimonial.avatar}
            </div>
            <div class="testimonial-card__info">
              <span class="testimonial-card__name">{testimonial.name}</span>
              <span class="testimonial-card__role">{testimonial.role}, {testimonial.company}</span>
            </div>
          </div>
        </article>
      ))}
    </div>
  </div>
</section>

<style lang="scss">
  @use '../styles/variables' as *;
  @use '../styles/mixins' as *;

  .testimonials {
    @include section;
    background: $background;

    &__container {
      @include container;
    }

    &__header {
      text-align: center;
      max-width: 600px;
      margin: 0 auto 4rem;
    }

    &__title {
      margin-bottom: 1rem;
    }

    &__intro {
      color: $text-light;
      font-size: 1.125rem;
    }

    &__grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;

      @include md {
        grid-template-columns: repeat(2, 1fr);
      }

      @include lg {
        grid-template-columns: repeat(3, 1fr);
      }
    }
  }

  .testimonial-card {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    border: 1px solid $border;
    @include shadow-soft;
    @include transition;

    &:hover {
      @include shadow-hover;
    }

    &__quote {
      width: 40px;
      height: 40px;
      margin-bottom: 1.25rem;
      color: $primary;
      opacity: 0.3;

      svg {
        width: 100%;
        height: 100%;
      }
    }

    &__content {
      font-size: 1rem;
      line-height: 1.7;
      color: $text-subtle;
      margin-bottom: 1.5rem;
      font-style: italic;
    }

    &__author {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    &__avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: linear-gradient(135deg, $primary 0%, $primary-dark 100%);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 1.125rem;
    }

    &__info {
      display: flex;
      flex-direction: column;
    }

    &__name {
      font-weight: 600;
      color: $text;
    }

    &__role {
      font-size: 0.875rem;
      color: $text-muted;
    }
  }
</style>
