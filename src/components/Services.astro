---
const services = [
  {
    title: 'Sites vitrines sur-mesure',
    description: 'Un design unique qui reflète votre identité et met en valeur votre activité auprès de vos clients.',
    color: '#FDF3D7',
  },
  {
    title: 'Design responsive',
    description: 'Votre site s\'adapte parfaitement à tous les écrans : mobile, tablette et ordinateur.',
    color: '#D4EFEA',
  },
  {
    title: 'Optimisation SEO',
    description: 'Une structure optimisée pour les moteurs de recherche afin d\'améliorer votre visibilité en ligne.',
    color: '#E6F4F0',
  },
  {
    title: 'Maintenance & support',
    description: 'Un accompagnement continu pour faire évoluer votre site et assurer son bon fonctionnement.',
    color: '#FEF0D3',
  },
];

const rotations = ['-1.5deg', '1deg', '-0.5deg', '1.5deg'];
---

<section id="services" class="services">
  <div class="services__container">
    <div class="services__tape services__tape--top-left"></div>
    <div class="services__tape services__tape--bottom-right"></div>
    <div class="services__header">
      <h2 class="services__title">Mes services</h2>
      <p class="services__intro">
        Des solutions web adaptées aux besoins des PME, avec une attention particulière portée à la qualité et aux détails.
      </p>
    </div>

    <div class="services__grid">
      {services.map((service, i) => (
        <div class="service-card" style={`background: ${service.color}; transform: rotate(${rotations[i]});`}>
          <h3 class="service-card__title">{service.title}</h3>
          <p class="service-card__description">{service.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<style lang="scss">
  @use '../styles/variables' as *;
  @use '../styles/mixins' as *;

  .services {
    @include section;
    background: transparent;

    &__container {
      @include container;
      background: white;
      border-radius: 16px;
      box-shadow: 0 8px 40px rgba(47, 58, 58, 0.08);
      padding-top: 3rem;
      padding-bottom: 3rem;
      position: relative;
      @include lg {
        padding-top: 4rem;
        padding-bottom: 4rem;
      }
    }

    &__tape {
      position: absolute;
      width: 120px;
      height: 32px;
      z-index: 2;
      background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.15) 0%,
        transparent 30%,
        transparent 70%,
        rgba(255, 255, 255, 0.1) 100%
      ),
      rgba($accent, 0.3);
      border-top: 1px solid rgba(255, 255, 255, 0.3);
      border-bottom: 1px solid rgba($accent, 0.15);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);

      &--top-left {
        top: -12px;
        left: 28px;
        transform: rotate(-18deg);
      }

      &--bottom-right {
        bottom: -12px;
        right: 28px;
        transform: rotate(-12deg);
      }
    }

    &__header {
      text-align: center;
      max-width: 600px;
      margin: 0 auto 4rem;
    }

    &__title {
      font-family: 'Caveat', cursive;
      font-size: 2.5rem;
      margin-bottom: 1rem;

      @include md {
        font-size: 3rem;
      }
    }

    &__intro {
      color: $text-light;
      font-size: 1.125rem;
    }

    &__grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;

      @include sm {
        grid-template-columns: repeat(2, 1fr);
      }

      @include lg {
        grid-template-columns: repeat(4, 1fr);
      }
    }
  }

  .service-card {
    padding: 1.75rem 1.5rem;
    text-align: center;
    border: none;
    border-radius: 2px;
    box-shadow: 2px 3px 8px rgba(0, 0, 0, 0.1);
    position: relative;
    transition: transform 0.3s ease, box-shadow 0.3s ease;

    &:hover {
      box-shadow: 3px 5px 12px rgba(0, 0, 0, 0.14);
    }

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 20px;
      height: 20px;
      background: linear-gradient(
        135deg,
        transparent 50%,
        rgba(0, 0, 0, 0.04) 50%
      );
    }

    &__title {
      font-family: 'Caveat', cursive;
      font-size: 1.5rem;
      margin-bottom: 0.75rem;
    }

    &__description {
      font-size: 0.9rem;
      color: $text-light;
      line-height: 1.6;
    }
  }
</style>
